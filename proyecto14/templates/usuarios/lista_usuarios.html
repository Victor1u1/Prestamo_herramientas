{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2 class="mb-4 text-white"><i class="bi bi-people-fill me-2"></i>Administrar Usuarios</h2>

    <div class="glass-card table-responsive mx-auto" style="max-width: 100%;">
        <table class="table table-hover table-bordered align-middle mb-0">
            <thead class="text-white" style="background-color: #6b4c4c;">  
                <tr>
                    <th>Usuario</th>
                    <th>Email</th>
                    <th>Nombre</th>
                    <th>Dirección</th>
                    <th>Teléfono</th>
                    <th>Rol</th>
                    <th>Fecha de registro</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for usuario in usuarios %}
                <tr>
                    <td>{{ usuario.username }}</td>
                    <td>{{ usuario.email }}</td>
                    <td>{{ usuario.first_name }} {{ usuario.last_name }}</td>
                    <td>{{ usuario.direccion }}</td>
                    <td>{{ usuario.telefono }}</td>
                    <td>{{ usuario.rol }}</td>
                    <td>{{ usuario.fecha_registro|date:"d/m/Y H:i" }}</td>
                    <td>
                        <a href="{% url 'calificaciones_usuario' usuario.id %}" class="btn btn-sm btn-calificaciones">
                            <i class="bi bi-star-fill me-1"></i>Ver calificaciones
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="text-center text-muted">No hay usuarios registrados.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
:root {
    --color-borde-tabla: #371a0f; 
}

.glass-card {
    background: rgb(164, 113, 113);
    border: 1px solid rgba(236, 0, 0, 0.15);
    border-radius: 0.75rem;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 1rem;
    overflow-x: auto;
}

table.table tbody tr td {
    background-color: #ae3f3fa0 !important;  
    color: #2c1a10 !important;           
}

table.table thead {
    background-color: #6b4c4c !important;
    color: white !important;
}

table.table tbody tr:hover td {
    background-color: #a67c75 !important;
    color: #fff !important;
}
/
table.table, 
table.table th, 
table.table td {
    border-color: var(--color-borde-tabla) !important;
}

.btn-calificaciones {
    background: rgba(166, 124, 117, 0.7);
    color: #1b0e0c;
    border: 1px solid rgba(139, 94, 77, 0.8);
    box-shadow: 0 2px 8px rgba(139, 94, 77, 0.5);
    transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
}

.btn-calificaciones:hover,
.btn-calificaciones:focus {
    background: rgba(166, 124, 117, 0.9);
    color: #000000;
    border-color: rgba(115, 78, 64, 0.9);
    box-shadow: 0 4px 12px rgba(115, 78, 64, 0.7);
    text-decoration: none;
}
</style>
{% endblock %}
